!function(t){t.letItSnow=function(e,n){var s=this;s.$el=t(e),s.el=e,s.$el.data("LetItSnow",s),s.init=function(){if(s.options=t.extend({},t.letItSnow.defaultOptions,n),1==s.options.makeFlakes)for(var e=0;e<100;e++)s.$el.prepend('<span class="lis-flake"></span>');1==s.options.sticky&&(s.makeFlakes(),setInterval(function(){s.makeFlakes()},7e3))},s.makeFlakes=function(){t(".lis-flake--js").remove();for(var e=0;e<50;e++)s.$el.append('<span class="'+s.options.stickyFlakes+'"></span>');var n=t("."+s.options.stickyFlakes);s.animateFlakes(n)};var a=s.$el.find("[collectsnow]");if(a.length)var i=a.offset().top,o=a.offset().left,l=t(window).width()-(o+a.outerWidth());s.animateFlakes=function(e){var n=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},s=0;e.each(function(){function e(e){f.animate({marginTop:"2500px"},{duration:e,step:function(e){if(a.length){var n=Math.round(e),s=t(window).width()-(f.offset().left+f.outerWidth());c+n>=i-10&&c+n<=i+10&&f.css("left").replace(/[^-\d\.]/g,"")>=o&&s>=l&&f.stop().attr("class","lis-flake--stuck").css({width:"3px",height:"3px",top:c+6+"px"})}}})}var f=t(this),c=10*n(0,100)-1e3;s++;var r={left:n(0,100)+"%",top:c+"px",width:n(0,5)+"px",height:n(0,5)+"px",transform:"rotate"+n(0,100)+"deg"};f.css(r),f.hasClass("lis-flake--stuck")||(s<=16?e(1e4):s>17&&s<=33?setTimeout(function(){e(8e3)},4e3):s>34&&s<50&&setTimeout(function(){e(8e3)},6e3))})},s.init()},t.letItSnow.defaultOptions={stickyFlakes:"lis-flake--js",makeFlakes:!0,sticky:!0},t.fn.letItSnow=function(e){return this.each(function(){new t.letItSnow(this,e)})}}(jQuery);